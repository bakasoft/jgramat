/* Practical URL parser */
@import any from gramat;

entry = name: <.*> ("=" value: <(! "&" | "#")*>)?;
url = baseUrl: <((! ":")+ "://")? (! "/")*>
    path: <(! "?")*>
    ( "?" query +: {entry} ("&" query +: {entry})* "&"? )?
    ( "#" fragment: <any*>)?;