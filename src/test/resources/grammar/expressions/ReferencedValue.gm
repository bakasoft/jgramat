@debug ReferencedValue
    = InvocationExpr
    | KeyAccessExpr
    | MemberExpr

@object MemberExpr =
    @set(`name`: Name)
    [ @set(`nested`: @list(`NestedMemberList`: {+
        @object(`NestedMember`:
            [ i-ws @set(`optional`: @true("?")) ]
            i-ws "." i-ws
            @set(`name`: Name)
        )
    })) ]

@object InvocationExpr =
    @set(`member`: MemberExpr)
    [ i-ws @set(`optional`: @true("?")) ]
    i-ws @set(`arguments`: InvocationArgumentGroup)

@object KeyAccessExpr =
    @set(`member`: MemberExpr)
    [ i-ws @set(`optional`: @true("?")) ]
    i-ws "[" ws @set(`key`: Expression) ws "]"



@list InvocationArgumentGroup =
    "(" ws { InvocationArgument / ws "," ws } ws ")"

@object InvocationArgument =
    [ @set(`name`: Name) ws ":" ws ] @set(`expression`: Expression)
